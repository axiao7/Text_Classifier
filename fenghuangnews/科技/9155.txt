性能与可用性是客户选择存储产品时关注的重点之一。尤其中高端存储阵列一般用于运行数据库和文件系统应用，一旦出现“数据热点”便会严重影响应用的性能。导致“数据热点”形成的主要原因便是磁盘的ＩＯ吞吐量过高，如果每秒内同一磁盘的吞吐量过高，阵列的性能便会有所下降。与传统存储阵列相比，ＥＶＡ通过采用虚拟化技术和独特的设计使其在性能和可用性方面具备非常大的优势。传统存储阵列遭遇性能瓶颈磁盘阵列ＲＡＩＤ组的性能与其所包含的磁盘数量有关，数量越少则性能越差。传统存储阵列的ＲＡＩＤ组通常只能够支持较少的磁盘数量，而每块磁盘能够支持的每秒ＩＯ吞吐量（ＩＯＰＳ）均有一个极限，超过这个极限便会形成热点。通常，１０Ｋ　ＲＰＭ磁盘的吞吐量平均为１２０　ＩＯＰＳ，１５Ｋ　ＲＰＭ磁盘的吞吐量平均为１７０　ＩＯＰＳ。通常情况下，ＲＡＩＤ－５（５Ｄ＋１Ｐ）组上的ＬＵＮ的每秒ＩＯ吞吐量为８５０　ＩＯ／ｓ，即５×１７０（磁盘数　ｘ　每块磁盘的吞吐量）。如果应用要求能够实现较高的ＩＯＰＳ，那么要选择合适的解决方案非常困难。另外，最大的难题便是需要重新设计和制作数据库列表。其次，在传统的物理存储阵列中，对ＲＡＩＤ组的配置和构建进行管理非常麻烦。存储管理员必须了解各种相关规则，以便经济高效地管理性能，避免出现硬件故障。在配置ＲＡＩＤ组和相应的ＬＵＮ时，存储管理员还必须考虑如何才能够保证磁盘、磁盘柜、互连设备（光纤通道环路）以及控制器等组件不会出现故障。换句话说，传统存储阵列的部署和管理会占用存储管理员的大部分时间和精力。另外，在实施许多常见的配置变更时，传统阵列都需要中断运行，因为若想全面更改传统存储阵列的ＲＡＩＤ组和ＬＵＮ配置，就必须先卸载数据，然后更改ＲＡＩＤ配置，最后重新装载数据。而且，为了复制所需的新ＲＡＩＤ组，传统阵列可能会出现供应过度的现象，这不但会显著增加成本，而且在切换ＬＵＮ时还可能需要中断运行。ＥＶＡ条带化技术消除性能热点ＥＶＡ能够轻松地解决上述性能问题，实现了极高的可用性，而且不会扰乱或者中断应用的运行。这是因为，ＥＶＡ能够自动执行大部分任务，不但降低了复杂性，还实现了更高的性能和可用性，大大节省了存储管理员的时间。下图展示了ＥＶＡ阵列上的ＬＵＮ分布方式。在ＥＶＡ阵列上，所有的ＲＡＩＤ等级，如Ｖｒａｉｄ－０、Ｖｒａｉｄ－５和Ｖｒａｉｄ－１，均存在于同一个磁盘组上，从而实现了最佳的条带化效果，消除了性能热点。而且，借助ＥＶＡ，惠普能够更好地管理基于磁盘的存储。ＥＶＡ存储管理员能够轻松地管理阵列性能和可用性，他们无需制定复杂的决策，例如磁盘分配、ＲＡＩＤ组构建与部署、备用和性能管理等。ＥＶＡ可以自动分配磁盘，并确定这些磁盘上应存储哪些数据、奇偶校验信息和冗余数据。ＥＶＡ还在每块磁盘上预留了用于磁盘重建的备用空间，因此无需再配置备用磁盘。ＥＶＡ可以进行自我调试，实现出色的性能和可用性，而无需存储管理员对其进行复杂的管理。此外，它能够根据优先顺序对ＩＯ要求进行排列，还具备预读功能，能够更改磁盘访问，从而更高效地使用磁盘组上的资源。大多数传统阵列都不具备上述这些特性。ＥＶＡ具备卓越的ＲＡＩＤ－５　（Ｖｒａｉｄ５）性能，可实现出色的读写访问，而且能够在磁盘出现故障时进行迅速修复。值得注意的是，在传统阵列中，ＲＡＩＤ组中的磁盘数量一旦超过４Ｄ＋１Ｐ，再执行ＲＡＩＤ－５重建便会花费非常长的时间。而在ＥＶＡ中，不论磁盘组中配置有多少块磁盘，ＲＡＩＤ－５集都采用４Ｄ＋１Ｐ配置，为数据提供出色的保护。因此，不论虚拟条带的容量有多大，只要具备充足的备用空间，ＥＶＡ均能够在较短的时间内完成磁盘重建。此外，客户只需在磁盘组中添加磁盘便能够轻松地提升阵列的性能。这些特性都是传统的物理存储阵列所不具备的。ＥＶＡ优化设计显著提高可用性若想在传统的物理存储阵列中实现容灾实施，对磁盘（包括备用磁盘）进行微观管理是非常必要的。由于许多传统存储阵列都使用物理光纤通道仲裁环路来连接磁盘机箱与阵列控制器，没有部署环路交换机，因此只要一块磁盘出现故障，整个系统都会瘫痪。ＥＶＡ　６ｘ００和８ｘ００阵列使用光纤通道环路交换机连接独立的磁盘机箱，显著提升了ＥＶＡ的性能以及容灾能力。此外，ＥＶＡ支持磁盘机箱的热插拔，即使多个环路和环路交换机出现故障，ＥＶＡ仍能够正常运行。传统的物理ＲＡＩＤ－５集只允许一个磁盘出现故障，此时它会将故障磁盘上的数据转移到备用磁盘上，而不会导致数据丢失。通过部署Ｖｒａｉｄ５虚拟磁盘，ＥＶＡ的每个冗余存储集（ＲＳＳ）都允许一块磁盘出现故障。根据各磁盘组中的磁盘数量不同，一个ＲＳＳ集可能包含６到１１块磁盘。与传统物理阵列相比，ＥＶＡ　ＲＡＩＤ－５出现故障的频率大大降低，平均无故障时间（ＭＴＢＦ）和可用性显著提高。ＲＡＩＤ组中的磁盘数量越多，出现故障的几率就越大。因此，提高ＲＡＩＤ－５数据可用性的一种方法便是，减少ＲＡＩＤ组中的磁盘数量，配置足够的备用磁盘或者备用空间，以实现快速重建。然而，由于减少了ＲＡＩＤ组中的磁盘数量，传统物理阵列的性能受到了很大的限制。而ＥＶＡ在多个冗余存储集中采用虚拟条带化技术，用以保存重要的物理数据和奇偶校验信息，能够确保数据的安全和出色的系统性能，因此不会出现上述问题。为了简化部署和管理流程，存储管理员在所有机箱中都配置相同数量的磁盘，并按照以下方式对磁盘进行分配：在ＲＡＩＤ－５集中，一个机箱只可配置一块磁盘。在ＲＡＩＤ－１和ＲＡＩＤ－１０集中，所有磁盘及其镜像均被分配到不同机箱中。一般情况下，光纤通道磁盘机箱都是通过两个环路与冗余控制器相连。连接到同一机箱上的两个环路被称为环路对。在ＲＡＩＤ－１和ＲＡＩＤ－１０配置中，每个磁盘及其镜像都必须位于不同的机箱中，而且如有可能，该机箱最好与多个环路对相连，以免在环路对出现故障时丢失数据。ＥＶＡ能够自动完成上述操作。由于传统阵列不具备自动配置软件，存储管理员的任务非常繁重且复杂。如果系统配置有足够多的磁盘机箱和磁盘，能够满足虚拟ＲＡＩＤ类型的要求，ＥＶＡ便能够自动实施磁盘分配最佳实践，实现极高的可用性（无单点故障）和性能。（责任编辑：韩建光）